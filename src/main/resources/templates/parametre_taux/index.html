<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{fragment/template1}">
    <body>
        <div layout:fragment="content">

            <h2>Liste des Paramètres de Taux</h2>

            <div class="inputs" style="display: block;">
                <div class="employe" style="display: flex;">
                    <div class="taux"
                        style="display: flex;gap: 20px;width: 100%;">
                        <div class='mb-4'>
                            <label class='form-label' for='Code'>Code</label>
                            <input type='text' class='form-control'
                                style="width: 200%;" id='Code' name="code"
                                placeholder='Code...'>
                        </div>
                    </div>
                </div>
                <div class="employe" style="display: block;width: 100%;">
                    <h5>Taux employe</h5>
                    <div class="taux"
                        style="display: flex;margin-top: -0.8%;gap: 8.02%;">
                        <div class='mb-4'>
                            <label class='form-label'
                                for='taux_employe_min'>Taux employe min</label>
                            <input type='number' class='form-control'
                                style="width: 120%;" id='taux_employe_min'
                                name="taux_employe_min"
                                placeholder='Taux employe min...'>
                        </div>
                        <div class='mb-4'>
                            <label class='form-label'
                                for='taux_employe_max'>Taux employe max</label>
                            <input type='number' class='form-control'
                                style="width: 120%;" id='taux_employe'
                                name="taux_employe_max"
                                placeholder='Taux employe max...'>
                        </div>
                    </div>
                </div>
                <div class="employeur" style="display: block;width: 100%;">
                    <h5>Taux employeur</h5>
                    <div class="taux"
                        style="display: flex;margin-top:-0.8%;gap: 8.02%;">
                        <div class='mb-4'>
                            <label class='form-label'
                                for='taux_employeur_min'>Taux employeur
                                min</label>
                            <input type='number' class='form-control'
                                style="width: 120%;" id='taux_employeur_min'
                                name="taux_employeur_min"
                                placeholder='Taux employeur min...'>
                        </div>
                        <div class='mb-4'>
                            <label class='form-label'
                                for='taux_employeur_max'>Taux employeur
                                max</label>
                            <input type='number' class='form-control'
                                style="width: 120%;" id='taux_employeur_max'
                                name="taux_employeur_max"
                                placeholder='Taux employeur max...'>
                        </div>
                    </div>
                </div>
                <div class="employe" style="display: block;width: 100%;">
                    <h5>Date Application</h5>
                    <div class="taux"
                        style="display: flex;margin-top: -0.8%;gap: 12%;">
                        <div class='mb-4'>
                            <label class='form-label'
                                for='date_application_debut'>Date Application
                                Début</label>
                            <input type='date' class='form-control'
                                style="width: 160%;" id='date_debut'
                                name="date_debut">
                        </div>
                        <div class='mb-4'>
                            <label class='form-label'
                                for='date_application_fin'>Date Application
                                Fin</label>
                            <input type='date' class='form-control'
                                style="width: 160%;" id='date_fin'
                                name="date_fin">
                        </div>
                    </div>
                </div>
                <div class='mb-4'>
                    <label class='form-label' for='actif'>Actif</label>
                    <input type='checkbox' class='form-check-input' id='actif'
                        name="actif">
                </div>
                <div class='mt-3'>
                    <button type='submit' id="rechercher"
                        class='btn btn-primary'
                        style="margin-bottom:2%;">Filtrer</button>
                </div>
            </div>

            <a th:href='@{/parametre_taux/create}'
                style="margin-top: 2%;">Créer</a>

            <div class="valiny" style="margin-top:2%;">
                <table class="table table-hover">
                    <thead><tr>
                            <th>Id</th>
                            <th>Code</th>
                            <th>Description</th>
                            <th>Taux Employé</th>
                            <th>Taux Employeur</th>
                            <th>Date Application</th>
                            <th>Date Fin</th>
                            <th>Actif</th>
                            <th>Modification</th>
                            <th>Suppression</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            th:if="${parametre_tauxs == null or #lists.isEmpty(parametre_tauxs)}">
                            <td colspan="10" style="text-align:center;">Aucun
                                paramètre de taux trouvé</td>
                        </tr>
                        <tr th:else th:each='row : ${parametre_tauxs}'>
                            <td th:text='${row.id}'></td>
                            <td th:text='${row.code}'></td>
                            <td th:text='${row.description}'></td>
                            <td th:text='${row.taux_employe}'></td>
                            <td th:text='${row.taux_employeur}'></td>
                            <td th:text='${row.date_application}'></td>
                            <td th:text='${row.date_fin}'></td>
                            <td>
                                <span th:if="${row.actif}"
                                    class="badge bg-success">Actif</span>
                                <span th:unless="${row.actif}"
                                    class="badge bg-danger">Inactif</span>
                            </td>
                            <td>
                                <a
                                    th:href='@{/parametre_taux/edit/{id}(id=${row.id})}'
                                    class="btn btn-sm btn-success">Edit</a>
                            </td>
                            <td>
                                <a
                                    th:href='@{/parametre_taux/delete/{id}(id=${row.id})}'
                                    class="btn btn-sm btn-danger"
                                    onclick="return confirm('Voulez-vous vraiment supprimer \'' + '[[${row.code}]]' + '\' ?')">Delete</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <script th:src="@{/assets/js/fetch.js}"></script>
        </div>
    </body>
</html>