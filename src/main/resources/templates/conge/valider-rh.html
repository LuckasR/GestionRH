<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{fragment/template1}">
<body>
<div layout:fragment="content">
<div class="card">
<h5 class='card-header'>Valider la demande de congé (RH)</h5>
<div class="card-body">
<div class="mb-3">
    <strong>Employé:</strong> <span th:text='${conge.employee.username}'></span>
</div>
<div class="mb-3">
    <strong>Type de congé:</strong> <span th:text='${conge.type_conge != null ? conge.type_conge.libelle : "N/A"}'></span>
</div>
<div class="mb-3">
    <strong>Date début:</strong> <span th:text='${conge.date_debut}'></span>
</div>
<div class="mb-3">
    <strong>Date fin:</strong> <span th:text='${conge.date_fin}'></span>
</div>
<div class="mb-3">
    <strong>Nombre de jours:</strong> <span th:text='${conge.nb_jours}'></span>
</div>
<div class="mb-3">
    <strong>Validation superviseur:</strong> 
    <span th:text='${conge.statut_validation_superviseur != null ? conge.statut_validation_superviseur.name : "En attente"}'></span>
</div>
<div class="mb-3">
    <strong>Référence:</strong> <span th:text='${conge.reference_demande}'></span>
</div>

<form th:action='@{/conge/valider-rh/{id}(id=${conge.id})}' method='post'>
  <div class='mb-4'>
    <label class='form-label' for='adminId'>Admin (RH)</label>
    <select class='form-select' name='adminId' required>
      <option value=''>Sélectionner un admin</option>
      <option th:each='admin : ${admins}' th:value='${admin.id}' th:text='${admin.username}'></option>
    </select>
  </div>
  <div class='mb-4'>
    <label class='form-label' for='statutId'>Statut final</label>
    <select class='form-select' name='statutId' required>
      <option value=''>Sélectionner un statut</option>
      <option th:each='statut : ${status_generals}' th:value='${statut.id}' th:text='${statut.name}'></option>
    </select>
  </div>
  <div class='mt-3'>
    <button type='submit' class='btn btn-primary'>Valider</button>
    <a th:href='@{/conge}' class='btn btn-secondary'>Annuler</a>
  </div>
</form>
</div>
</div>
</div>
</body>
</html>

