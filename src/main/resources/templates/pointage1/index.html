<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{fragment/template1}"
>
  <body>
    <div layout:fragment="content">
      <h2>Liste de pointage</h2>
      <a class="btn btn-primary" th:href="@{/pointage/create}"
        >Check-in Manuelement</a
      >
      <br />
      <br />
      <a class="btn btn-info" th:href="@{/pointage/scan}"
        >Check-in Automatique
      </a>
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>id</th>
              <th>Employee</th>
              <th>date_pointage</th>
              <th>heure_arrivee</th>
              <th>heure_depart</th>
              <th>Methode de pointage</th>
              <th>commentaire</th>
              <th>date_enregistrement</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="row : ${pointages}">
              <td th:text="${row.id}"></td>
              <td th:text="${row.employee.username}"></td>
              <td th:text="${row.date_pointage}"></td>
              <td th:text="${row.heure_arrivee}"></td>
              <td th:text="${row.heure_depart}"></td>
              <td th:text="${row.methode.name}"></td>
              <td th:text="${row.commentaire}"></td>
              <td th:text="${row.date_enregistrement}"></td>
             
            
              <td>

                
                <a th:if="${row.heure_depart == null}"
                  class="btn btn-success"
                  th:href="@{/pointage/checkout/{id}(id=${row.id})}"
                  >Check-out</a
                >
                <a
                  class="btn btn-warning"
                  th:href="@{/pointage/edit/{id}(id=${row.id})}"
                  >Edit</a
                >
                |
                <a
                  class="btn btn-danger"
                  th:href="@{/pointage/delete/{id}(id=${row.id})}"
                  >Delete</a
                >
              </td>
            </tr>
          </tbody>
        </table>
      </div>    
    </div>
  </body>
</html>
